
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Colton Hicks">
      
      
      
        <link rel="prev" href="../CONTRIBUTING/">
      
      
        <link rel="next" href="../random_observations/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>clients.py - tcpb-client</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="cyan">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#clientspy" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="tcpb-client" class="md-header__button md-logo" aria-label="tcpb-client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            tcpb-client
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              clients.py
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="cyan"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-green" data-md-color-accent="cyan"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mtzgroup/tcpb-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  tcpb-client

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../CHANGELOG/" class="md-tabs__link">
        
  
    
  
  Changelog

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../CONTRIBUTING/" class="md-tabs__link">
        
  
    
  
  Contributing

      </a>
    </li>
  

      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
    
  
  clients.py

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../random_observations/" class="md-tabs__link">
        
  
    
  
  Random Observations

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../Examples/basic_energy/" class="md-tabs__link">
          
  
  Examples

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="tcpb-client" class="md-nav__button md-logo" aria-label="tcpb-client" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    tcpb-client
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mtzgroup/tcpb-client" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tcpb-client
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    clients.py
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    clients.py
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TCFrontEndClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TCFrontEndClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.ls" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.compute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TCProtobufClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TCProtobufClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.disconnect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;disconnect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.is_available" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_available
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.job_output_to_atomic_result" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;job_output_to_atomic_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.send_job_async" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_job_async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.check_job_complete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;check_job_complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.recv_job_async" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;recv_job_async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_job_sync" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_job_sync
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_energy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_energy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_gradient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_forces" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_forces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_coupling" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_coupling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_ci_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_ci_overlap
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../random_observations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Observations
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/basic_energy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Energy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/ci_overlap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI Overlap
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/cisno_casci%20copy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FOMO CASCI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/cisno_casci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CISNO CASCI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/frontend/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TCFrontEndClient
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/frontend_guess_reuse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frontend Guess Reuse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/guess_reuse/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guess Reuse
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/sa_casscf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SA CASSCF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Examples/tddft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    TDDFT
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Page contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Page contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TCFrontEndClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TCFrontEndClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.ls" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;ls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.get" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;get
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.put" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;put
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.delete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;delete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCFrontEndClient.compute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-class"></code>&nbsp;TCProtobufClient
    </span>
  </a>
  
    <nav class="md-nav" aria-label=" TCProtobufClient">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.connect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;connect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.disconnect" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;disconnect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.is_available" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;is_available
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.job_output_to_atomic_result" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;job_output_to_atomic_result
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.send_job_async" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;send_job_async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.check_job_complete" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;check_job_complete
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.recv_job_async" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;recv_job_async
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_job_sync" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_job_sync
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_energy" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_energy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_gradient" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_gradient
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_forces" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_forces
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_coupling" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_coupling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcpb.clients.TCProtobufClient.compute_ci_overlap" class="md-nav__link">
    <span class="md-ellipsis">
      <code class="doc-symbol doc-symbol-toc doc-symbol-method"></code>&nbsp;compute_ci_overlap
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="clientspy">clients.py<a class="headerlink" href="#clientspy" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-class">



<h2 id="tcpb.clients.TCFrontEndClient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">tcpb.clients.TCFrontEndClient</span>


<a href="#tcpb.clients.TCFrontEndClient" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">TCFrontEndClient</span><span class="p">(</span><span class="n">host</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_host</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_port</span><span class="p">,</span> <span class="n">frontend_host</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_frontend_host</span><span class="p">,</span> <span class="n">frontend_port</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_frontend_port</span><span class="p">,</span> <span class="n">uploads_prefix</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;uploads&#39;</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">


        <p>Client for interacting with TeraChem FrontEnd.</p>
<p>TeraChemFrontEndClient communicates with a TeraChem Protocol Buffer Server for
QC compute jobs and with a file server to get/put files to the server. A file may
be put to the server e.g., to use as an initial wave function guess, or any output
file retrieved after a computation.</p>

                  <details class="quote">
                    <summary>Source code in <code>tcpb/clients.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_host</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_port</span><span class="p">,</span>
    <span class="n">frontend_host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_frontend_host</span><span class="p">,</span>
    <span class="n">frontend_port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_frontend_port</span><span class="p">,</span>
    <span class="n">uploads_prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;uploads&quot;</span><span class="p">,</span>
    <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">trace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frontend_host</span> <span class="o">=</span> <span class="n">frontend_host</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frontend_port</span> <span class="o">=</span> <span class="n">frontend_port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">uploads_prefix</span> <span class="o">=</span> <span class="n">uploads_prefix</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">debug</span><span class="p">,</span> <span class="n">trace</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCFrontEndClient.ls" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">ls</span>


<a href="#tcpb.clients.TCFrontEndClient.ls" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">ls</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="typing.List">List</span></span><span class="p">[</span><span class="n"><span title="typing.Dict">Dict</span></span><span class="p">[</span><span class="n">str</span><span class="p">,</span> <span class="n">str</span><span class="p">]]</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>List directories on TeraChem Server</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Optional filepath.</p>
              </div>
            </td>
            <td>
                  <code>&#39;/&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span>
<span class="normal">975</span>
<span class="normal">976</span>
<span class="normal">977</span>
<span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ls</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;/&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List directories on TeraChem Server</span>

<span class="sd">    Parameters:</span>
<span class="sd">        path: Optional filepath.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">+=</span> <span class="s2">&quot;/&quot;</span>

    <span class="n">req</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">req</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCFrontEndClient.get" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">get</span>


<a href="#tcpb.clients.TCFrontEndClient.get" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get</span><span class="p">(</span><span class="n">path</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">bytes</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Retrieve file from TeraChem Server</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>path</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Full filepath to the file to download. Does not begin with '/'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>bytes</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bytes of the file. All files (text or binary) returned as bytes. So to</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code>bytes</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>write to disk open file in binary mode. e.g.,:
with open('my_output.txt', 'wb') as f:
    f.write(client.get('path_to_file'))</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span>
<span class="normal">993</span>
<span class="normal">994</span>
<span class="normal">995</span>
<span class="normal">996</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Retrieve file from TeraChem Server</span>

<span class="sd">    Parameters:</span>
<span class="sd">        path: Full filepath to the file to download. Does not begin with &#39;/&#39;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Bytes of the file. All files (text or binary) returned as bytes. So to</span>
<span class="sd">        write to disk open file in binary mode. e.g.,:</span>
<span class="sd">            with open(&#39;my_output.txt&#39;, &#39;wb&#39;) as f:</span>
<span class="sd">                f.write(client.get(&#39;path_to_file&#39;))</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">req</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">req</span><span class="o">.</span><span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCFrontEndClient.put" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">put</span>


<a href="#tcpb.clients.TCFrontEndClient.put" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">put</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="n">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">str</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Upload a file to the TeraChem Server</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the uploaded file.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>NOTE</code></td>            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Full path will vary from filename passed as server will place file
into designated uploads directory with uuid in path.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">content</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Upload a file to the TeraChem Server</span>

<span class="sd">    Returns:</span>
<span class="sd">        Path to the uploaded file.</span>
<span class="sd">        NOTE: Full path will vary from filename passed as server will place file</span>
<span class="sd">            into designated uploads directory with uuid in path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">uuid</span> <span class="o">=</span> <span class="n">uuid4</span><span class="p">()</span>
    <span class="n">req</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_request</span><span class="p">(</span>
        <span class="s2">&quot;PUT&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">uploads_prefix</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">uuid</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="n">content</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">req</span><span class="o">.</span><span class="n">url</span><span class="o">.</span><span class="n">path</span><span class="p">)[</span><span class="mi">1</span><span class="p">:]</span>  <span class="c1"># remove initial &#39;/&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCFrontEndClient.delete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">delete</span>


<a href="#tcpb.clients.TCFrontEndClient.delete" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">delete</span><span class="p">(</span><span class="n">path_or_filename</span><span class="p">:</span> <span class="n">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Delete a directory or file from the TeraChem Server</p>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_or_filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Delete a directory or file from the TeraChem Server&quot;&quot;&quot;</span>
    <span class="k">with</span> <span class="n">httpx</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
        <span class="n">req</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;http://</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">frontend_port</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">path_or_filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
    <span class="n">req</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCFrontEndClient.compute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute</span>


<a href="#tcpb.clients.TCFrontEndClient.compute" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute</span><span class="p">(</span><span class="n">inp_data</span><span class="p">:</span> <span class="n"><span title="qcio.ProgramInput">ProgramInput</span></span><span class="p">,</span> <span class="n">raise_exc</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">collect_stdout</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">collect_files</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">rm_scratch_dir</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="qcio.ProgramOutput">ProgramOutput</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Top level method for performing computations with qcio inputs/outputs</p>


<details class="note" open>
  <summary>Configuration parameters for controlling TCFrontEndClient behavior are</summary>
  <p>found in ProgramInput.extras['tcfe:keywords'] and include:
    1. 'c0' | 'ca0 and cb0': Binary files to use as an initial guess
        wavefunction
    2. 'scratch_messy': bool If True client will not delete files on server
        after a computation
    3. 'uploads_messy': bool If True client will not delete uploaded c0
        file(s) after a computation
    4. 'native_files': list[str] of filenames that will be downloaded after
        a computation</p>
</details>

<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>prog_input</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ProgramInput object</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collect_stdout</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool, if True, will collect tc.out and place in ProgramOutput</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collect_files</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool, if True, will collect all files in the scratch directory.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rm_scratch_dir</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool, if True, will remove the scratch directory after computation</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>raise_exc</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>bool, if True, will raise an error if the computation fails</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">inp_data</span><span class="p">:</span> <span class="n">ProgramInput</span><span class="p">,</span>
    <span class="n">raise_exc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">collect_stdout</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">collect_files</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">rm_scratch_dir</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProgramOutput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Top level method for performing computations with qcio inputs/outputs</span>


<span class="sd">    NOTE: Configuration parameters for controlling TCFrontEndClient behavior are</span>
<span class="sd">        found in ProgramInput.extras[&#39;tcfe:keywords&#39;] and include:</span>
<span class="sd">            1. &#39;c0&#39; | &#39;ca0 and cb0&#39;: Binary files to use as an initial guess</span>
<span class="sd">                wavefunction</span>
<span class="sd">            2. &#39;scratch_messy&#39;: bool If True client will not delete files on server</span>
<span class="sd">                after a computation</span>
<span class="sd">            3. &#39;uploads_messy&#39;: bool If True client will not delete uploaded c0</span>
<span class="sd">                file(s) after a computation</span>
<span class="sd">            4. &#39;native_files&#39;: list[str] of filenames that will be downloaded after</span>
<span class="sd">                a computation</span>

<span class="sd">    Args:</span>
<span class="sd">        prog_input: ProgramInput object</span>
<span class="sd">        collect_stdout: bool, if True, will collect tc.out and place in ProgramOutput</span>
<span class="sd">        collect_files: bool, if True, will collect all files in the scratch directory.</span>
<span class="sd">        rm_scratch_dir: bool, if True, will remove the scratch directory after computation</span>
<span class="sd">        raise_exc: bool, if True, will raise an error if the computation fails</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Do pre-compute work</span>
    <span class="n">inp_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pre_compute_tasks</span><span class="p">(</span><span class="n">inp_data</span><span class="p">)</span>
    <span class="c1"># Send calculation to TC-PBS</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">prog_output</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">inp_data</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ServerError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">exc</span> <span class="o">=</span> <span class="n">e</span>
        <span class="n">prog_output</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">program_output</span>

    <span class="c1"># Do post-compute work</span>
    <span class="n">prog_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_post_compute_tasks</span><span class="p">(</span>
        <span class="n">prog_output</span><span class="p">,</span>
        <span class="n">collect_stdout</span><span class="o">=</span><span class="n">collect_stdout</span><span class="p">,</span>
        <span class="n">collect_files</span><span class="o">=</span><span class="n">collect_files</span><span class="p">,</span>
        <span class="n">rm_scratch_dir</span><span class="o">=</span><span class="n">rm_scratch_dir</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="n">raise_exc</span> <span class="ow">and</span> <span class="n">prog_output</span><span class="o">.</span><span class="n">success</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="c1"># Append updated program_output with stdout/files to exception</span>
        <span class="n">exc</span><span class="o">.</span><span class="n">program_output</span> <span class="o">=</span> <span class="n">prog_output</span>
        <span class="k">raise</span> <span class="n">exc</span>

    <span class="k">return</span> <span class="n">prog_output</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="tcpb.clients.TCProtobufClient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>            <span class="doc doc-object-name doc-class-name">tcpb.clients.TCProtobufClient</span>


<a href="#tcpb.clients.TCProtobufClient" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">TCProtobufClient</span><span class="p">(</span><span class="n">host</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_host</span><span class="p">,</span> <span class="n">port</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_port</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">


        <p>Connect and communicate with a TeraChem instance running in Protocol Buffer server mode
(i.e. TeraChem was started with the -s|--server flag)</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>host</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Hostname</p>
              </div>
            </td>
            <td>
                  <code><span title="tcpb.config.settings.tcpb_host">tcpb_host</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>port</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Port number (must be above 1023)</p>
              </div>
            </td>
            <td>
                  <code><span title="tcpb.config.settings.tcpb_port">tcpb_port</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>debug</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, assumes connections work (used for testing with no server)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>trace</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, packets are saved to .bin files (which can then be used for testing)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>tcpb/clients.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_host</span><span class="p">,</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">tcpb_port</span><span class="p">,</span>
    <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">trace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize a TCProtobufClient object.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        host: Hostname</span>
<span class="sd">        port: Port number (must be above 1023)</span>
<span class="sd">        debug: If True, assumes connections work (used for testing with no server)</span>
<span class="sd">        trace: If True, packets are saved to .bin files (which can then be used for testing)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">port</span> <span class="o">&lt;</span> <span class="mi">1023</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Port number is not allowed to below 1023 (system reserved ports)&quot;</span>
        <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">host</span> <span class="o">=</span> <span class="n">host</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">debug</span> <span class="o">=</span> <span class="n">debug</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trace</span> <span class="o">=</span> <span class="n">trace</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">trace</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">intracefile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;client_recv.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outtracefile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;client_sent.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># Would like to not hard code this, but the truth is I am expecting exactly 8 bytes, not whatever Python thinks 2 ints is</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">header_size</span> <span class="o">=</span> <span class="mi">8</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">prev_results</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_scr_dir</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.connect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">connect</span>


<a href="#tcpb.clients.TCProtobufClient.connect" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">connect</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Connect to the TeraChem Protobuf server</p>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Connect to the TeraChem Protobuf server&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;in debug mode - assume connection established&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span> <span class="o">=</span> <span class="n">socket</span><span class="o">.</span><span class="n">socket</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">AF_INET</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span><span class="o">.</span><span class="n">settimeout</span><span class="p">(</span><span class="mf">10.0</span><span class="p">)</span>  <span class="c1"># Timeout of 10 seconds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span><span class="o">.</span><span class="n">connect</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">host</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">))</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Problem connecting to server: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.disconnect" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">disconnect</span>


<a href="#tcpb.clients.TCProtobufClient.disconnect" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">disconnect</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Disconnect from the TeraChem Protobuf server</p>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Disconnect from the TeraChem Protobuf server&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;in debug mode - assume disconnection worked&quot;</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span><span class="o">.</span><span class="n">shutdown</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># Shutdown read and write</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tcsock</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">except</span> <span class="n">socket</span><span class="o">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Problem communicating with server: </span><span class="si">{</span><span class="n">msg</span><span class="si">}</span><span class="s2">. Disconnect assumed to have happened&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.is_available" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">is_available</span>


<a href="#tcpb.clients.TCProtobufClient.is_available" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">is_available</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Asks the TeraChem Protobuf server whether it is available or busy through the Status protobuf message.
Note that this does not reserve the server, and the status could change after this function is called.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if the TeraChem PB server is currently available (no running job)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_available</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Asks the TeraChem Protobuf server whether it is available or busy through the Status protobuf message.</span>
<span class="sd">    Note that this does not reserve the server, and the status could change after this function is called.</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if the TeraChem PB server is currently available (no running job)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;in debug mode - assume terachem server is available&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Send Status message</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Receive Status header</span>
    <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">)</span>

    <span class="k">return</span> <span class="ow">not</span> <span class="n">status</span><span class="o">.</span><span class="n">busy</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute</span>


<a href="#tcpb.clients.TCProtobufClient.compute" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute</span><span class="p">(</span><span class="n">inp_data</span><span class="p">:</span> <span class="n"><span title="qcio.ProgramInput">ProgramInput</span></span><span class="p">,</span> <span class="n">raise_exc</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="qcio.ProgramOutput">ProgramOutput</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Top level method for performing computations with QCSchema inputs/outputs</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>inp_data</code></td>
            <td>
                  <code><span title="qcio.ProgramInput">ProgramInput</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>AtomicInput object</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>raise_exc</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, raise an error if the computation fails</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="qcio.ProgramOutput">ProgramOutput</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ProgramOutput object</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">inp_data</span><span class="p">:</span> <span class="n">ProgramInput</span><span class="p">,</span> <span class="n">raise_exc</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProgramOutput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Top level method for performing computations with QCSchema inputs/outputs</span>

<span class="sd">    Args:</span>
<span class="sd">        inp_data: AtomicInput object</span>
<span class="sd">        raise_exc: If True, raise an error if the computation fails</span>

<span class="sd">    Returns:</span>
<span class="sd">        ProgramOutput object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Create protobuf message</span>
    <span class="n">job_input_msg</span> <span class="o">=</span> <span class="n">prog_inp_to_job_inp</span><span class="p">(</span><span class="n">inp_data</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Send message to server; retry until accepted</span>
        <span class="n">accepted</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">retries</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">accepted</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_send_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JOBINPUT</span><span class="p">,</span> <span class="n">job_input_msg</span><span class="p">)</span>
            <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_set_status</span><span class="p">(</span><span class="n">status</span><span class="p">)</span>
            <span class="n">accepted</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">accepted</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">accepted</span><span class="p">:</span>
                <span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">retries</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">ServerError</span><span class="p">(</span><span class="s2">&quot;Server is busy and not accepting jobs&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_job_complete</span><span class="p">():</span>
            <span class="n">sleep</span><span class="p">(</span><span class="mf">0.25</span><span class="p">)</span>
        <span class="c1"># Collect output from server</span>
        <span class="n">job_output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JOBOUTPUT</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">ServerError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Server likely crashed due to calculation failing</span>
        <span class="n">prog_output</span> <span class="o">=</span> <span class="n">ProgramOutput</span><span class="p">(</span>
            <span class="n">input_data</span><span class="o">=</span><span class="n">inp_data</span><span class="p">,</span>
            <span class="n">success</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">traceback</span><span class="o">=</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">(),</span>
            <span class="n">results</span><span class="o">=</span><span class="p">{},</span>
            <span class="n">provenance</span><span class="o">=</span><span class="n">Provenance</span><span class="p">(</span>
                <span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                <span class="n">scratch_dir</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">curr_job_dir</span><span class="p">,</span>
            <span class="p">),</span>
        <span class="p">)</span>
        <span class="n">e</span><span class="o">.</span><span class="n">program_output</span> <span class="o">=</span> <span class="n">prog_output</span>
        <span class="k">if</span> <span class="n">raise_exc</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">e</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">prog_output</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">job_output_to_atomic_result</span><span class="p">(</span>
            <span class="n">inp_data</span><span class="o">=</span><span class="n">inp_data</span><span class="p">,</span> <span class="n">job_output</span><span class="o">=</span><span class="n">job_output</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.job_output_to_atomic_result" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">job_output_to_atomic_result</span>


<a href="#tcpb.clients.TCProtobufClient.job_output_to_atomic_result" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">job_output_to_atomic_result</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">inp_data</span><span class="p">:</span> <span class="n"><span title="qcio.ProgramInput">ProgramInput</span></span><span class="p">,</span> <span class="n">job_output</span><span class="p">:</span> <span class="n"><span title="tcpb.terachem_server_pb2.JobOutput">JobOutput</span></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n"><span title="qcio.ProgramOutput">ProgramOutput</span></span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert JobOutput to ProgramOutput</p>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">job_output_to_atomic_result</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">inp_data</span><span class="p">:</span> <span class="n">ProgramInput</span><span class="p">,</span>
    <span class="n">job_output</span><span class="p">:</span> <span class="n">pb</span><span class="o">.</span><span class="n">JobOutput</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ProgramOutput</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Convert JobOutput to ProgramOutput&quot;&quot;&quot;</span>
    <span class="c1"># Convert job_output to python types</span>
    <span class="c1"># NOTE: Required so that ProgramOutput is JSON serializable. Protobuf types are not.</span>
    <span class="n">jo_dict</span> <span class="o">=</span> <span class="n">MessageToDict</span><span class="p">(</span><span class="n">job_output</span><span class="p">,</span> <span class="n">preserving_proto_field_name</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Create ProgramOutput</span>
    <span class="n">prog_output</span><span class="p">:</span> <span class="n">ProgramOutput</span> <span class="o">=</span> <span class="n">ProgramOutput</span><span class="p">(</span>
        <span class="n">input_data</span><span class="o">=</span><span class="n">inp_data</span><span class="p">,</span>
        <span class="n">success</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">provenance</span><span class="o">=</span><span class="n">Provenance</span><span class="p">(</span>
            <span class="n">program</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span> <span class="n">scratch_dir</span><span class="o">=</span><span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;job_dir&quot;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">results</span><span class="o">=</span><span class="n">to_single_point_results</span><span class="p">(</span><span class="n">job_output</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="c1"># And extend extras to include values additional to input extras</span>
    <span class="n">prog_output</span><span class="o">.</span><span class="n">results</span><span class="o">.</span><span class="n">extras</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;charges&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;charges&quot;</span><span class="p">),</span>
            <span class="s2">&quot;spins&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;spins&quot;</span><span class="p">),</span>
            <span class="s2">&quot;meyer_bond_order&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bond_order&quot;</span><span class="p">),</span>
            <span class="s2">&quot;orb_size&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orb_size&quot;</span><span class="p">),</span>
            <span class="s2">&quot;excited_state_energies&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">),</span>
            <span class="s2">&quot;cis_transition_dipoles&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;cis_transition_dipoles&quot;</span><span class="p">),</span>
            <span class="s2">&quot;compressed_bond_order&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compressed_bond_order&quot;</span><span class="p">),</span>
            <span class="s2">&quot;compressed_hessian&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compressed_hessian&quot;</span><span class="p">),</span>
            <span class="s2">&quot;compressed_ao_data&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compressed_ao_data&quot;</span><span class="p">),</span>
            <span class="s2">&quot;compressed_primitive_data&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compressed_primitive_data&quot;</span><span class="p">),</span>
            <span class="s2">&quot;compressed_mo_vector&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;compressed_mo_vector&quot;</span><span class="p">),</span>
            <span class="s2">&quot;imd_mmatom_gradient&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;imd_mmatom_gradient&quot;</span><span class="p">),</span>
            <span class="s2">&quot;job_dir_scr&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;job_scr_dir&quot;</span><span class="p">),</span>
            <span class="s2">&quot;server_job_id&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;server_job_id&quot;</span><span class="p">),</span>
            <span class="s2">&quot;orb1afile&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orb1afile&quot;</span><span class="p">),</span>
            <span class="s2">&quot;orb1bfile&quot;</span><span class="p">:</span> <span class="n">jo_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;orb1bfile&quot;</span><span class="p">),</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">prog_output</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.send_job_async" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">send_job_async</span>


<a href="#tcpb.clients.TCProtobufClient.send_job_async" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">send_job_async</span><span class="p">(</span><span class="n">jobType</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Pack and send the current JobInput to the TeraChem Protobuf server asynchronously.
This function expects a Status message back that either tells us whether the job was accepted.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>jobType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Job type key, as defined in the pb.JobInput.RunType enum (defaults to "energy")</p>
              </div>
            </td>
            <td>
                  <code>&#39;energy&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to "bohr")</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True on job acceptance, False on server busy, and errors out if communication fails</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">send_job_async</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">jobType</span><span class="o">=</span><span class="s2">&quot;energy&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pack and send the current JobInput to the TeraChem Protobuf server asynchronously.</span>
<span class="sd">    This function expects a Status message back that either tells us whether the job was accepted.</span>

<span class="sd">    Args:</span>
<span class="sd">        jobType:    Job type key, as defined in the pb.JobInput.RunType enum (defaults to &quot;energy&quot;)</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &quot;bohr&quot;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True on job acceptance, False on server busy, and errors out if communication fails</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">jobType</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JobInput</span><span class="o">.</span><span class="n">RunType</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Job type specified is not available in this version of the TCPB client</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Allowed run types: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JobInput</span><span class="o">.</span><span class="n">RunType</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">geom</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;Did not provide geometry to send_job_async()&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">geom</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="n">geom</span> <span class="o">=</span> <span class="n">geom</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">unitType</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">Mol</span><span class="o">.</span><span class="n">UnitType</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Unit type specified is not available in this version of the TCPB client</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="s2">&quot;Allowed unit types: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">Mol</span><span class="o">.</span><span class="n">UnitType</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;in debug mode - assume job completed&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Job setup</span>
    <span class="n">job_input_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_job_input_msg</span><span class="p">(</span><span class="n">jobType</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_send_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JOBINPUT</span><span class="p">,</span> <span class="n">job_input_msg</span><span class="p">)</span>

    <span class="n">status_msg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">status_msg</span><span class="o">.</span><span class="n">WhichOneof</span><span class="p">(</span><span class="s2">&quot;job_status&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;accepted&quot;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_status</span><span class="p">(</span><span class="n">status_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.check_job_complete" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">check_job_complete</span>


<a href="#tcpb.clients.TCProtobufClient.check_job_complete" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">check_job_complete</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Pack and send a Status message to the TeraChem Protobuf server asynchronously.
This function expects a Status message back with either working or completed set.
Errors out if just busy message returned, implying the job we are checking was not submitted
or had some other issue</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if job is completed, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">check_job_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Pack and send a Status message to the TeraChem Protobuf server asynchronously.</span>
<span class="sd">    This function expects a Status message back with either working or completed set.</span>
<span class="sd">    Errors out if just busy message returned, implying the job we are checking was not submitted</span>
<span class="sd">    or had some other issue</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if job is completed, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Checking jobs status...&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;in debug mode - assume check_job_complete is True&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># Send Status</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_send_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Receive Status</span>
    <span class="n">status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">STATUS</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">WhichOneof</span><span class="p">(</span><span class="s2">&quot;job_status&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;completed&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">elif</span> <span class="n">status</span><span class="o">.</span><span class="n">WhichOneof</span><span class="p">(</span><span class="s2">&quot;job_status&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;working&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">ServerError</span><span class="p">(</span>
            <span class="s2">&quot;Invalid or no job status received, either no job submitted before check_job_complete() or major server issue&quot;</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.recv_job_async" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">recv_job_async</span>


<a href="#tcpb.clients.TCProtobufClient.recv_job_async" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">recv_job_async</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Recv and unpack a JobOutput message from the TeraChem Protobuf server asynchronously.
This function expects the job to be ready (i.e. check_job_complete() returned true),
so will error out on timeout.</p>
<p>Creates a results dictionary that mirrors the JobOutput message, using NumPy arrays when appropriate.
Results are also saved in the prev_results class member.
An inclusive list of the results members (with types):</p>
<ul>
<li>atoms:              Flat # of atoms NumPy array of 2-character strings</li>
<li>geom:               # of atoms by 3 NumPy array of doubles</li>
<li>energy:             Either empty, single energy, or flat # of cas_energy_labels of NumPy array of doubles</li>
<li>charges:            Flat # of atoms NumPy array of doubles</li>
<li>spins:              Flat # of atoms NumPy array of doubles</li>
<li>dipole_moment:      Single element (units Debye)</li>
<li>dipole_vector:      Flat 3-element NumPy array of doubles (units Debye)</li>
<li>job_dir:            String</li>
<li>job_scr_dir:        String</li>
<li>server_job_id:      Int</li>
<li>orbfile:            String (if restricted is True, otherwise not included)</li>
<li>orbfile_a:          String (if restricted is False, otherwise not included)</li>
<li>orbfile_b:          String (if restricted is False, otherwise not included)</li>
<li>orb_energies:       Flat # of orbitals NumPy array of doubles (if restricted is True, otherwise not included)</li>
<li>orb_occupations:    Flat # of orbitals NumPy array of doubles (if restricted is True, otherwise not included)</li>
<li>orb_energies_a:     Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</li>
<li>orb_occupations_a:  Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</li>
<li>orb_energies_b:     Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</li>
<li>orb_occupations_b:  Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</li>
</ul>
<p>Additional (optional) members of results:</p>
<ul>
<li>bond_order:         # of atoms by # of atoms NumPy array of doubles</li>
</ul>
<p>Available per job type:</p>
<ul>
<li>gradient:           # of atoms by 3 NumPy array of doubles (available for 'gradient' job)</li>
<li>nacme:              # of atoms by 3 NumPy array of doubles (available for 'coupling' job)</li>
<li>ci_overlap:         ci_overlap_size by ci_overlap_size NumPy array of doubles (available for 'ci_vec_overlap' job)</li>
</ul>
<p>Available for CAS jobs:</p>
<ul>
<li>cas_energy_labels:  List of tuples of (state, multiplicity) corresponding to the energy list</li>
<li>cas_transition_dipole:  Flat 3-element NumPy array of doubles (available for 'coupling' job)</li>
</ul>
<p>Available for CIS jobs:</p>
<ul>
<li>cis_states:         Number of excited states for reported properties</li>
<li>cis_unrelaxed_dipoles:    # of excited states list of flat 3-element NumPy arrays (default included with 'cis yes', or explicitly with 'cisunrelaxdipole yes', units a.u.)</li>
<li>cis_relaxed_dipoles:      # of excited states list of flat 3-element NumPy arrays (included with 'cisrelaxdipole yes', units a.u.)</li>
<li>cis_transition_dipoles:   # of excited state combinations (N(N-1)/2) list of flat 3-element NumPy arrays (default includeded with 'cis yes', or explicitly with 'cistransdipole yes', units a.u.)
                            Order given lexically (e.g. 0-&gt;1, 0-&gt;2, 1-&gt;2 for 2 states)</li>
</ul>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Results as described above</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">recv_job_async</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Recv and unpack a JobOutput message from the TeraChem Protobuf server asynchronously.</span>
<span class="sd">    This function expects the job to be ready (i.e. check_job_complete() returned true),</span>
<span class="sd">    so will error out on timeout.</span>

<span class="sd">    Creates a results dictionary that mirrors the JobOutput message, using NumPy arrays when appropriate.</span>
<span class="sd">    Results are also saved in the prev_results class member.</span>
<span class="sd">    An inclusive list of the results members (with types):</span>

<span class="sd">    * atoms:              Flat # of atoms NumPy array of 2-character strings</span>
<span class="sd">    * geom:               # of atoms by 3 NumPy array of doubles</span>
<span class="sd">    * energy:             Either empty, single energy, or flat # of cas_energy_labels of NumPy array of doubles</span>
<span class="sd">    * charges:            Flat # of atoms NumPy array of doubles</span>
<span class="sd">    * spins:              Flat # of atoms NumPy array of doubles</span>
<span class="sd">    * dipole_moment:      Single element (units Debye)</span>
<span class="sd">    * dipole_vector:      Flat 3-element NumPy array of doubles (units Debye)</span>
<span class="sd">    * job_dir:            String</span>
<span class="sd">    * job_scr_dir:        String</span>
<span class="sd">    * server_job_id:      Int</span>
<span class="sd">    * orbfile:            String (if restricted is True, otherwise not included)</span>
<span class="sd">    * orbfile_a:          String (if restricted is False, otherwise not included)</span>
<span class="sd">    * orbfile_b:          String (if restricted is False, otherwise not included)</span>
<span class="sd">    * orb_energies:       Flat # of orbitals NumPy array of doubles (if restricted is True, otherwise not included)</span>
<span class="sd">    * orb_occupations:    Flat # of orbitals NumPy array of doubles (if restricted is True, otherwise not included)</span>
<span class="sd">    * orb_energies_a:     Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</span>
<span class="sd">    * orb_occupations_a:  Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</span>
<span class="sd">    * orb_energies_b:     Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</span>
<span class="sd">    * orb_occupations_b:  Flat # of orbitals NumPy array of doubles (if restricted is False, otherwise not included)</span>

<span class="sd">    Additional (optional) members of results:</span>

<span class="sd">    * bond_order:         # of atoms by # of atoms NumPy array of doubles</span>

<span class="sd">    Available per job type:</span>

<span class="sd">    * gradient:           # of atoms by 3 NumPy array of doubles (available for &#39;gradient&#39; job)</span>
<span class="sd">    * nacme:              # of atoms by 3 NumPy array of doubles (available for &#39;coupling&#39; job)</span>
<span class="sd">    * ci_overlap:         ci_overlap_size by ci_overlap_size NumPy array of doubles (available for &#39;ci_vec_overlap&#39; job)</span>

<span class="sd">    Available for CAS jobs:</span>

<span class="sd">    * cas_energy_labels:  List of tuples of (state, multiplicity) corresponding to the energy list</span>
<span class="sd">    * cas_transition_dipole:  Flat 3-element NumPy array of doubles (available for &#39;coupling&#39; job)</span>

<span class="sd">    Available for CIS jobs:</span>

<span class="sd">    * cis_states:         Number of excited states for reported properties</span>
<span class="sd">    * cis_unrelaxed_dipoles:    # of excited states list of flat 3-element NumPy arrays (default included with &#39;cis yes&#39;, or explicitly with &#39;cisunrelaxdipole yes&#39;, units a.u.)</span>
<span class="sd">    * cis_relaxed_dipoles:      # of excited states list of flat 3-element NumPy arrays (included with &#39;cisrelaxdipole yes&#39;, units a.u.)</span>
<span class="sd">    * cis_transition_dipoles:   # of excited state combinations (N(N-1)/2) list of flat 3-element NumPy arrays (default includeded with &#39;cis yes&#39;, or explicitly with &#39;cistransdipole yes&#39;, units a.u.)</span>
<span class="sd">                                Order given lexically (e.g. 0-&gt;1, 0-&gt;2, 1-&gt;2 for 2 states)</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Results as described above</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_recv_msg</span><span class="p">(</span><span class="n">pb</span><span class="o">.</span><span class="n">JOBOUTPUT</span><span class="p">)</span>

    <span class="c1"># Parse output into normal python dictionary</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;atoms&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">mol</span><span class="o">.</span><span class="n">atoms</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="s2">&quot;S2&quot;</span><span class="p">),</span>
        <span class="s2">&quot;geom&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">mol</span><span class="o">.</span><span class="n">xyz</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="s2">&quot;charges&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">charges</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">),</span>
        <span class="s2">&quot;spins&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">spins</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">),</span>
        <span class="s2">&quot;dipole_moment&quot;</span><span class="p">:</span> <span class="n">output</span><span class="o">.</span><span class="n">dipoles</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
        <span class="s2">&quot;dipole_vector&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">dipoles</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">),</span>
        <span class="s2">&quot;job_dir&quot;</span><span class="p">:</span> <span class="n">output</span><span class="o">.</span><span class="n">job_dir</span><span class="p">,</span>
        <span class="s2">&quot;job_scr_dir&quot;</span><span class="p">:</span> <span class="n">output</span><span class="o">.</span><span class="n">job_scr_dir</span><span class="p">,</span>
        <span class="s2">&quot;server_job_id&quot;</span><span class="p">:</span> <span class="n">output</span><span class="o">.</span><span class="n">server_job_id</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">energy</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">energy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">mol</span><span class="o">.</span><span class="n">closed</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orbfile&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">orb1afile</span>

        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_energies&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orba_energies</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_occupations&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orba_occupations</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orbfile_a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">orb1afile</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orbfile_b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">orb1bfile</span>

        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_energies_a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orba_energies</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_occupations_a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orba_occupations</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_energies_b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orbb_energies</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;orb_occupations_b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">orbb_occupations</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">gradient</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;gradient&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">gradient</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
            <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">nacme</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;nacme&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">nacme</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cas_transition_dipole</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cas_transition_dipole&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">cas_transition_dipole</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cas_energy_states</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">energy</span><span class="p">[:</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cas_energy_states</span><span class="p">)],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cas_energy_labels&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span>
            <span class="nb">zip</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cas_energy_states</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">cas_energy_mults</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">bond_order</span><span class="p">):</span>
        <span class="n">nAtoms</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">mol</span><span class="o">.</span><span class="n">atoms</span><span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;bond_order&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">bond_order</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">nAtoms</span><span class="p">,</span> <span class="n">nAtoms</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">ci_overlaps</span><span class="p">):</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;ci_overlap&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">ci_overlaps</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">ci_overlap_size</span><span class="p">,</span> <span class="n">output</span><span class="o">.</span><span class="n">ci_overlap_size</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">output</span><span class="o">.</span><span class="n">cis_states</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="n">output</span><span class="o">.</span><span class="n">energy</span><span class="p">[:</span> <span class="n">output</span><span class="o">.</span><span class="n">cis_states</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span>
        <span class="p">)</span>
        <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cis_states&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">cis_states</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cis_unrelaxed_dipoles</span><span class="p">):</span>
            <span class="n">uDips</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cis_states</span><span class="p">):</span>
                <span class="n">uDips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">cis_unrelaxed_dipoles</span><span class="p">[</span><span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="p">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
                        <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cis_unrelaxed_dipoles&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">uDips</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cis_relaxed_dipoles</span><span class="p">):</span>
            <span class="n">rDips</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cis_states</span><span class="p">):</span>
                <span class="n">rDips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">cis_relaxed_dipoles</span><span class="p">[</span><span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="p">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
                        <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cis_relaxed_dipoles&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rDips</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="o">.</span><span class="n">cis_transition_dipoles</span><span class="p">):</span>
            <span class="n">tDips</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">((</span><span class="n">output</span><span class="o">.</span><span class="n">cis_states</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">output</span><span class="o">.</span><span class="n">cis_states</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)):</span>
                <span class="n">tDips</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
                        <span class="n">output</span><span class="o">.</span><span class="n">cis_transition_dipoles</span><span class="p">[</span><span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="p">:</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">],</span>
                        <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="n">results</span><span class="p">[</span><span class="s2">&quot;cis_transition_dipoles&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tDips</span>

    <span class="c1"># Save results for user access later</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">prev_results</span> <span class="o">=</span> <span class="n">results</span>

    <span class="c1"># Wipe state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_dir</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_scr_dir</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curr_job_id</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_job_sync" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_job_sync</span>


<a href="#tcpb.clients.TCProtobufClient.compute_job_sync" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_job_sync</span><span class="p">(</span><span class="n">jobType</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Wrapper for send_job_async() and recv_job_async(), using check_job_complete() to poll the server.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>jobType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Job type key, as defined in the pb.JobInput.RunType enum (defaults to 'energy')</p>
              </div>
            </td>
            <td>
                  <code>&#39;energy&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Results mirroring recv_job_async</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_job_sync</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">jobType</span><span class="o">=</span><span class="s2">&quot;energy&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Wrapper for send_job_async() and recv_job_async(), using check_job_complete() to poll the server.</span>

<span class="sd">    Args:</span>
<span class="sd">        jobType:    Job type key, as defined in the pb.JobInput.RunType enum (defaults to &#39;energy&#39;)</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Results mirroring recv_job_async</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">debug</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
            <span class="s2">&quot;in debug mode - assume compute_job_sync completed successfully&quot;</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="n">accepted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_job_async</span><span class="p">(</span><span class="n">jobType</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">accepted</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">accepted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_job_async</span><span class="p">(</span><span class="n">jobType</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">completed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_job_complete</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">completed</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="n">completed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_job_complete</span><span class="p">()</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">recv_job_async</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_energy" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_energy</span>


<a href="#tcpb.clients.TCProtobufClient.compute_energy" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_energy</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute energy of a new geometry, but with the same atom labels/charge/spin
multiplicity and wave function format as the previous calculation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Energy</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_energy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute energy of a new geometry, but with the same atom labels/charge/spin</span>
<span class="sd">    multiplicity and wave function format as the previous calculation.</span>

<span class="sd">    Args:</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: Energy</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_job_sync</span><span class="p">(</span><span class="s2">&quot;energy&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_gradient" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_gradient</span>


<a href="#tcpb.clients.TCProtobufClient.compute_gradient" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_gradient</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute gradient of a new geometry, but with the same atom labels/charge/spin
multiplicity and wave function format as the previous calculation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of (energy, gradient)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_gradient</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute gradient of a new geometry, but with the same atom labels/charge/spin</span>
<span class="sd">    multiplicity and wave function format as the previous calculation.</span>

<span class="sd">    Args:</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple: Tuple of (energy, gradient)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_job_sync</span><span class="p">(</span><span class="s2">&quot;gradient&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">],</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;gradient&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_forces" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_forces</span>


<a href="#tcpb.clients.TCProtobufClient.compute_forces" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_forces</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute forces of a new geometry, but with the same atoms labels/charge/spin
multiplicity and wave function format as the previous calculation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of (energy, forces), which is really (energy, -gradient)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_forces</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute forces of a new geometry, but with the same atoms labels/charge/spin</span>
<span class="sd">    multiplicity and wave function format as the previous calculation.</span>

<span class="sd">    Args:</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple: Tuple of (energy, forces), which is really (energy, -gradient)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_job_sync</span><span class="p">(</span><span class="s2">&quot;gradient&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;energy&quot;</span><span class="p">],</span> <span class="o">-</span><span class="mf">1.0</span> <span class="o">*</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;gradient&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_coupling" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_coupling</span>


<a href="#tcpb.clients.TCProtobufClient.compute_coupling" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_coupling</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute nonadiabatic coupling of a new geometry, but with the same atoms labels/charge/spin
multiplicity and wave function format as the previous calculation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the new point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(num_atoms, 3) ndarray: Nonadiabatic coupling vector</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_coupling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute nonadiabatic coupling of a new geometry, but with the same atoms labels/charge/spin</span>
<span class="sd">    multiplicity and wave function format as the previous calculation.</span>

<span class="sd">    Args:</span>
<span class="sd">        geom:       Cartesian geometry of the new point</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        (num_atoms, 3) ndarray: Nonadiabatic coupling vector</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_job_sync</span><span class="p">(</span><span class="s2">&quot;coupling&quot;</span><span class="p">,</span> <span class="n">geom</span><span class="p">,</span> <span class="n">unitType</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;nacme&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="tcpb.clients.TCProtobufClient.compute_ci_overlap" class="doc doc-heading">
<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>            <span class="doc doc-object-name doc-function-name">compute_ci_overlap</span>


<a href="#tcpb.clients.TCProtobufClient.compute_ci_overlap" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">compute_ci_overlap</span><span class="p">(</span><span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">geom2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cvec1file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cvec2file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orb1afile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orb1bfile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orb2afile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orb2bfile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">unitType</span><span class="o">=</span><span class="s1">&#39;bohr&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Compute wavefunction overlap given two different geometries, CI vectors, and orbitals,
using the same atom labels/charge/spin multiplicity as the previous calculation.</p>
<p>To run a closed shell calculation, only populate orb1afile/orb2afile, leaving orb1bfile/orb2bfile blank.
Currently, open-shell overlap calculations are not supported by TeraChem.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geom</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the first point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geom2</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cartesian geometry of the second point</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cvec1file</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of CI vector for first geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cvec2file</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of CI vector for second geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>orb1afile</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of alpha MO coefficients for first geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>orb1bfile</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of beta MO coefficients for first geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>orb2afile</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of alpha MO coefficients for second geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>orb2bfile</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Binary file of beta MO coefficients for second geometry (row-major, double64)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>unitType</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit type key, as defined in the pb.Mol.UnitType enum (defaults to 'bohr')</p>
              </div>
            </td>
            <td>
                  <code>&#39;bohr&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional TeraChem keywords, check _process_kwargs for behaviour</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(num_states, num_states) ndarray: CI vector overlaps</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>tcpb/clients.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compute_ci_overlap</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">geom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">geom2</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cvec1file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">cvec2file</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">orb1afile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">orb1bfile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">orb2afile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">orb2bfile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">unitType</span><span class="o">=</span><span class="s2">&quot;bohr&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Compute wavefunction overlap given two different geometries, CI vectors, and orbitals,</span>
<span class="sd">    using the same atom labels/charge/spin multiplicity as the previous calculation.</span>

<span class="sd">    To run a closed shell calculation, only populate orb1afile/orb2afile, leaving orb1bfile/orb2bfile blank.</span>
<span class="sd">    Currently, open-shell overlap calculations are not supported by TeraChem.</span>

<span class="sd">    Args:</span>
<span class="sd">        geom:       Cartesian geometry of the first point</span>
<span class="sd">        geom2:      Cartesian geometry of the second point</span>
<span class="sd">        cvec1file:  Binary file of CI vector for first geometry (row-major, double64)</span>
<span class="sd">        cvec2file:  Binary file of CI vector for second geometry (row-major, double64)</span>
<span class="sd">        orb1afile:  Binary file of alpha MO coefficients for first geometry (row-major, double64)</span>
<span class="sd">        orb1bfile:  Binary file of beta MO coefficients for first geometry (row-major, double64)</span>
<span class="sd">        orb2afile:  Binary file of alpha MO coefficients for second geometry (row-major, double64)</span>
<span class="sd">        orb2bfile:  Binary file of beta MO coefficients for second geometry (row-major, double64)</span>
<span class="sd">        unitType:   Unit type key, as defined in the pb.Mol.UnitType enum (defaults to &#39;bohr&#39;)</span>
<span class="sd">        **kwargs:   Additional TeraChem keywords, check _process_kwargs for behaviour</span>

<span class="sd">    Returns:</span>
<span class="sd">        (num_states, num_states) ndarray: CI vector overlaps</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">geom</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">geom2</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;Did not provide two geometries to compute_ci_overlap()&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cvec1file</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">cvec2file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;Did not provide two CI vectors to compute_ci_overlap()&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">orb1afile</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">orb1bfile</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span>
            <span class="s2">&quot;Did not provide two sets of orbitals to compute_ci_overlap()&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span>
        <span class="p">(</span><span class="n">orb1bfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">orb2bfile</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">)</span>
        <span class="ow">or</span> <span class="p">(</span><span class="n">orb1bfile</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">orb2bfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span>
        <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;closed_shell&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">False</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span>
            <span class="s2">&quot;Did not provide two sets of open-shell orbitals to compute_ci_overlap()&quot;</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span>
        <span class="n">orb1bfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">orb2bfile</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;closed_shell&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="kc">True</span>
    <span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span>
            <span class="s2">&quot;WARNING: System specified as closed, but open-shell orbitals were passed to compute_ci_overlap(). Ignoring beta orbitals.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;closed_shell&quot;</span><span class="p">]:</span>
        <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compute_job_sync</span><span class="p">(</span>
            <span class="s2">&quot;ci_vec_overlap&quot;</span><span class="p">,</span>
            <span class="n">geom</span><span class="p">,</span>
            <span class="n">unitType</span><span class="p">,</span>
            <span class="n">geom2</span><span class="o">=</span><span class="n">geom2</span><span class="p">,</span>
            <span class="n">cvec1file</span><span class="o">=</span><span class="n">cvec1file</span><span class="p">,</span>
            <span class="n">cvec2file</span><span class="o">=</span><span class="n">cvec2file</span><span class="p">,</span>
            <span class="n">orb1afile</span><span class="o">=</span><span class="n">orb1afile</span><span class="p">,</span>
            <span class="n">orb2afile</span><span class="o">=</span><span class="n">orb2afile</span><span class="p">,</span>
            <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
            <span class="s2">&quot;WARNING: Open-shell systems are currently not supported for overlaps&quot;</span>
        <span class="p">)</span>
        <span class="c1"># results = self.compute_job_sync(&quot;ci_vec_overlap&quot;, geom, unitType, geom2=geom2,</span>
        <span class="c1">#    cvec1file=cvec1file, cvec2file=cvec2file,</span>
        <span class="c1">#    orb1afile=orb1afile, orb1bfile=orb1bfile,</span>
        <span class="c1">#    orb2afile=orb1bfile, orb2bfile=orb2bfile, **kwargs)</span>

    <span class="k">return</span> <span class="n">results</span><span class="p">[</span><span class="s2">&quot;ci_overlap&quot;</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "content.code.annotate", "content.code.copy", "announce.dismiss", "navigation.tabs", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.path", "navigation.sections", "navigation.top", "navigation.tracking", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>